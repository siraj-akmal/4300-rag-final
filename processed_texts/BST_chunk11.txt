Analysis We claim that for all n ≥1 E[Yn] ≤1 4 n+3 3  . We prove this by induction on n. Base case: E[Y1] = 20 = 1. Induction step: We have E[Yn] ≤4 n n−1 X i=1 E[Yi] Using the fact that n−1 X i=0 i + 3 3  = n + 3 4  E[Yn] ≤4 n · 1 4 · n + 3 4  E[Yn] ≤1 4 · n + 3 3  25 Jensen’s inequality A function f is convex if for all x and y, x < y, and for all λ, 0 ≤λ ≤1, f(λx + (1 −λ)y) ≤λf(x) + (1 −λ)f(y) Jensen’s inequality states that for all random variables X and for all convex function f f(E[X]) ≤E[f(X)]. Let this X be Xn and f(x) = 2x. Then E[f(X)] = E[Yn]. So, we have 2E[Xn] ≤1 4 n + 3 3  . The right-hand side is at most (n + 3)3. By taking the log of both sides, we have E[Xn] = O(log n). Thus the average height of a randomly build BST is O(log n). 26