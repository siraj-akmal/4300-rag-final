table whenever a trigger ﬁres in response to an insert, update, or delete. Flexible because you can have application speciﬁc replication, but also more error prone. Synchronous vs Asynchronous Replication Synchronous: Leader waits for a response from the follower Asynchronous: Leader doesn’t wait for conﬁrmation. 15 Synchronous: Asynchronous: What Happens When the Leader Fails? Challenges: How do we pick a new Leader Node? ●Consensus strategy – perhaps based on who has the most updates? ●Use a controller node to appoint new leader? AND… how do we conﬁgure clients to start writing to the new leader? 16 What Happens When the Leader Fails? More Challenges: ● If asynchronous replication is used, new leader may not have all the writes How do we recover the lost writes? Or do we simply discard? ● After (if?) the old leader recovers, how do we avoid having multiple leaders receiving conﬂicting data? (Split brain: no way to resolve conﬂicting requests. ● Leader failure detection. Optimal timeout is tricky. 17 Replication Lag refers to the time it takes for writes on the leader to be reﬂected on all of the followers. ●Synchronous replication: Replication lag causes writes to be slower and the system to be more