the followers… only the leader. Leader-Based Replication - Very Common Strategy Relational: ● MySQL, ● Oracle, ● SQL Server, ● PostgreSQL NoSQL: ● MongoDB, ● RethinkDB (realtime web apps), ● Espresso (LinkedIn) Messaging Brokers: Kafka, RabbitMQ 13 How Is Replication Info Transmitted to Followers? 14 Replication Method Description Statement-based Send INSERT, UPDATE, DELETEs to replica. Simple but error-prone due to non-deterministic functions like now(), trigger side-effects, and difﬁculty in handling concurrent transactions. Write-ahead Log (WAL) A byte-level speciﬁc log of every change to the database. Leader and all followers must implement the same storage engine and makes upgrades difﬁcult. Logical (row-based) Log For relational DBs: Inserted rows, modiﬁed rows (before and after), deleted rows. A transaction log will identify all the rows that changed in each transaction and how they changed. Logical logs are decoupled from the storage engine and easier to parse. Trigger-based Changes are logged to a separate table whenever a trigger ﬁres in response to an insert, update, or delete. Flexible because you can have application speciﬁc replication, but also more error prone. Synchronous vs Asynchronous Replication Synchronous: Leader waits for a response from the follower Asynchronous: Leader doesn’t wait for conﬁrmation. 15 Synchronous: Asynchronous: What Happens